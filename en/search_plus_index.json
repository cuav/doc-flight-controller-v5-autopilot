{"./":{"url":"./","title":"V5 series autopilot","keywords":"","body":"V5 Series AutoPilot "},"v5.html":{"url":"v5.html","title":"V5 autopilot","keywords":"","body":"V5 AutoPilot V5 AutoPilot® is an advanced autopilot designed and made in CUAV® . The board is is based on the FMUv5 open hardware design. It is fully compatible with both PX4 and ArduPilot firmware. intended primarily for academic and commercial develop. Quick Summary Main FMU Processor: STM32F765 32 Bit Arm® Cortex®-M7, 216MHz, 2MB memory, 512KB RAM IO Processor: STM32F100 32 Bit Arm® Cortex®-M3, 24MHz, 8KB SRAM On-board sensors: Accelerometer/Gyroscope: ICM-20689 Accelerometer/Gyroscope: BMI055 Magnetometer: IST8310 Barometer: MS5611 Interfaces: 8-14 PWM outputs (6 from IO, 8 from FMU) 3 dedicated PWM/Capture inputs on FMU Dedicated R/C input for CPPM Dedicated R/C input for PPM and S.Bus analog / PWM RSSI input S.Bus servo output 5 general purpose serial ports 4 I2C ports 4 SPI buses 2 CANBuses with serial ESC Analog inputs for voltage / current of 2 batteries Power System: Power: 4.3~5.4V USB Input: 4.75~5.25V Servo Rail Input: 0~36V Weight and Dimensions: Weight: 90g Dimensions: 44x84x12mm Other Characteristics: Operating temperature: -20 ~ 80°c（Measured value） Purchase Order from CUAV. connection DSU7 is a new interface for cuav naming, including fmu swd and uart7 interfaces. When V5 runs PX4 firmware,uart7 is used as the DEBUG interface; when running ArduPilot firmware; uart7 is used as the communication serial port and usb is used to debug the output. WarningThe RCIN interface is limited to powering the rc receiver and cannot be connected to any power/load. Voltage Ratings V5 AutoPilot can be triple-redundant on the power supply if three power sources are supplied. The three power rails are: POWER1, POWER2 and USB. Note The output power rails FMU PWM OUT and I/O PWM OUT (0V to 36V) do not power the flight controller board (and are not powered by it). You must supply power to one of POWER1, POWER2 or USB or the board will be unpowered. Normal Operation Maximum Ratings Under these conditions all power sources will be used in this order to power the system: POWER1 and POWER2 inputs (4.3V to 5.4V) USB input (4.75V to 5.25V) Building PX4 Firmware make px4fmu-v5_default upload Building ArduPilot Firmware ./waf configure --board CUAVv5 ./waf copter --upload Debug Port The system's serial console and SWD interface operate on the FMU Debug port. Simply connect the FTDI cable to the Debug & F7 SWD connector. To access the I/O Debug port, the user must remove the V5-AutoPilot shell. Both ports have standard serial pins and can be connected to a standard FTDI cable (3.3V, but 5V tolerant) or [Dronecode probe]. Dronecode probe. Peripherals Digital Airspeed Sensor Telemetry Radio Modules Rangefinders/Distance sensors Supported Platforms / Airframes Any multicopter / airplane / rover or boat that can be controlled with normal RC servos or Futaba S-Bus servos. The complete set of supported configurations can be seen in the Airframes Reference. Further info FMUv5 reference design pinout. V5 AutoPilot docs CUAV Github Video introduction "},"v5-nano.html":{"url":"v5-nano.html","title":"V5-NANO","keywords":"","body":"V5 NANO AutoPilot The V5-NANO autopilot® is designed for businesses and enthusiasts who are extremely sensitive to space but want to get the power of V5.It has a mini size and powerful performance. It can be used not only in ordinary drones, also used in 220mm racing drones. V5- NANO was designed by CUAV® and Auterion®, the PX4 team and the ArduPilot team jointly developed, It is based on the Pixhawk FMUv5 design standard and is optimized to run PX4 firmware and ArduPilot firmware. Quick Summary Main FMU Processor: STM32F765◦32 Bit Arm® Cortex®-M7, 216MHz, 2MB memory, 512KB RAM On-board sensors: Accel/Gyro: ICM-20689 Accel/Gyro: ICM-20602 Accel/Gyro: BMI055 Magnetometer: IST8310 Barometer: MS5611 Interfaces: 8 PWM outputs 4 dedicated PWM/Capture inputs on FMU Dedicated R/C input for CPPM Dedicated R/C input for Spektrum / DSM and S.Bus analog / PWM RSSI input 4 general purpose serial ports 4 I2C ports 4 SPI buses 2 CANBuses Analog inputs for voltage / current of battery 2 additional analog input Power System:◦Power Brick Input: 4.75~5.5V USB Power Input: 4.75~5.25V Servo Rail Input: 0~36V Weight and Dimensions: Dimensions: 60*40*14mm Other Characteristics: Operating temperature: -20 ~ 85°c（Measured value） Purchase Order from CUAV. Peripherals Digital Airspeed Sensor Telemetry Radio Modules Rangefinders/Distance sensors Supported Platforms / Airframes Any multicopter / airplane / rover or boat that can be controlled with normal RC servos or Futaba S-Bus servos. The complete set of supported configurations can be seen in the Airframes Reference. Further info FMUv5 reference design pinout. V5 AutoPilot docs CUAV Github Video introduction "},"install-driver.html":{"url":"install-driver.html","title":"驱动安装","keywords":"","body":"安装驱动程序 V5 AutoPilot windows的驱动程序由微软官方提供。在window10系统下系统自动安装驱动，在部分windows7/8系统中需要用户安装驱动,下面主要讲述如何手动安装驱动？ 请先安装驱动精灵并且将v5 AutoPilot通过usb线连接到电脑，打开驱动精灵，点击“立即检测”。 软件检测到设备驱动异常，点击右边安装按钮。 等待安装完成。 "},"load-firmware/ardupilot-firmware.html":{"url":"load-firmware/ardupilot-firmware.html","title":"ArduPilot固件","keywords":"","body":"加载ArduPilot固件（又称APM固件） V5 AutoPilot支持ArduPilot,下面主要讲解如何加载这种固件。 ArduPilot团队对FMU V5硬件接触较晚，现支持V5 AutoPilot的固件尚处于测试版阶段，但已经经过了数次的优化及广大模友的无数次测试，已经可以正常使用。 使用ArduPilot固件前请将mission planner升级到1.3.57及以上版本地面站。 在线烧录固件： 将飞控接入到电脑，打开地面站，点击初始设置界面》安装固件》点击测试版固件》选择您需要的固件类型》等待烧录完成 本地烧录固件： 请先下载您需要的固件类型：多旋翼(3~8轴通用）传统直升机固定翼（包含垂直起降机固件）无人车无人船 选择加载自定义固件》选择下载的固件》等待烧录完成 "},"load-firmware/px4-firmware.html":{"url":"load-firmware/px4-firmware.html","title":"PX4原生固件","keywords":"","body":"加载PX4原生固件 V5 AutoPilot支持PX4原生固件及ArduPilot,下面主要讲解如何加载这两种固件 PX4原生固件 在V5 AutoPilot作为强大的飞行控制系统，当然少不了对PX4原生固件的兼容。在产品测试阶段，CUAV与DEV团队就达成了深入的合作意向，将就PX4原生固件与V5 AutoPilot的软硬件适配展开深度的合作与交流.通过不断的测试和修改，V5 AutoPilot专用的PX4原生固件已经发布了稳定版本（第一版为1.80 stable). 在线烧录： PX4原生固件在线烧录固件需要先安装QGoundcontrol地面站,打开地面站》点击设置图标》点击firmware 将V5 AutoPilot通过usb线连接到电脑，地面站右边将弹出下图窗口》选择需要PX4 Flight STACK》OK加载完成，如不进行操作，十几秒后将自动连接。 本地烧录： 请先下载PX4原生固件至本地打开地面站》点击设置图标》点击firmware 将V5 AutoPilot通过usb线连接到电脑，地面站右边将弹出下图窗口》选择需要PX4 Flight STACK》勾选advanced settings>custon firmware file》找到下载的固件》ok加载完成，如不进行操作，十几秒后将自动连接。 "},"pre-arm.html":{"url":"pre-arm.html","title":"Pre-arm报错信息分析","keywords":"","body":"Pre-Arm 安全检查程序 APM：Copter多旋翼 固件内部有一套非常完善的Pre-Arm安全检查提醒机制，会检查你的飞行器是否有大量问题,包括各种未校准，已经是否传感器已经出现损坏，当然这解锁检查机制也不是百分百可靠的，你可以通过在全部参数列表Arming-check 禁用它 注意：因为飞控固件版本的不断更新，有可能一些错误信息会有所改变，可能与本文出现不一致，或者本文没有说明的错误；都是正常情况。可以自行使用搜索引擎搜索一下 使用GCS地面站查看Pre-Arm错误信息 在闪烁黄色灯时，使用者会无法解锁，而且解锁时蜂鸣器也会长鸣2下。此时你必须连接上地面站，才能排除究竟是什么问题导致了不能解锁和飞行，一般通常是 传感器未校准 或者出现了失控保护、低压设置不正确等等，下面会详细分析每种报错内容: 阅读下面内容前，请确保你已经使用并连接地面站、做了飞控板校准以及会简单使用遥控器。 如果还不会，请查看之前的章节：） 使用Pre-Arm信息分析不能解锁原因： 飞控板已经连接好遥控器接收机，并 拆除螺旋桨 和动力电池 通过USB或者数传（WP-LINK\\3DR\\XBEE\\XTND）连接上地面站（电脑地面站：Mission Planner或者安卓：CUAV Hfight） 打开你的遥控器，并试图解锁[解锁通道是：油门最低 (3通道）、YAW最右（4通道）] 此时，在地面站窗口应该可以看见 红色 的Pre-Arm 错误提示， 如果没有任何提示 ，一般是 解锁通道不正确 导致飞控无法感知你的解锁操作；你还可以在地面站 飞行数据 界面-状态栏 点解锁操作 解锁失败的提示信息： 遥控器常见错误提示： NO RC Receiver（没有遥控器接收机） 请检测接收机的信号输入是否正常 解决方案： 1：如果是使用PPM编码器小板，检查一下PPM编码器 蓝色状态灯是否还会闪烁（可以判断PPM编码器是否还在工作） 2：如果使用SBUS和PPM接收机，检查接收机设置是否正确 3：有可能飞控硬件固件，需要返厂检修，一般可能性比较小 RC not calibrated （遥控器未校准） 遥控器还未校准，或者范围不在飞控记录值内，通常都是设置了遥控器或者换了遥控器导致，请重新做校准既可 RC3油门通道MIN最小值及MAX最大值理想范围是1100-1900. 而其他通道最小值不要大于1300和最大值不要小于1700。理想值也是1100-1900 电子罗盘常见错误提示： Compass not healthy（电子罗盘不健康） 电子罗盘不健康的提示，也有可能是没有数值或者硬件损坏 也有可能环境温度低于0下，可能会导致罗盘传感器没有数值 解决方案： 重新上电 如果温度过低，请做好保温措施，重新上电 在地面站-状态检查罗盘数值是否正确 MX1 MY1 MZ1 \\MX2 MY2 MZ2 Compass not calibrated（罗盘没有校准） 罗盘没有校准，或者罗盘被移除和新增，都会提示罗盘未校准 解决方案： 安装好罗盘后，重新做校准 Compass offsets too high （罗盘偏移值太高） 主罗盘的偏移值(i.e. sqrt(x^2+y^2+z^2)) 大于500，就会提示这个，一般情况都是飞控或者GPS附近有磁性物体（马达、螺丝、电池等）导致，或者环境有比较强的磁场干扰。 解决方案： 请排除干扰后重新上电 重新换一个位置安装飞控或者GPS，重新校准 换一个环境试试 Check mag field （检查罗盘磁场） 如果在室内、或换了不同环境、或附近有磁干扰可能会提示这个错误 解决方案： 如果换了环境，重新做校准即可 如果在室内或者有干扰源，离开干扰源即可 Compasses inconsistent：（罗盘不一致） 内部罗盘和外部罗盘指向不一致（>45度）。这通常是外部罗盘方向设置不正确导致（compass_orient） 解决方案： 重新做校准即可。选择PX4 校准，方向不用选择 GPS常见故障： GPS Glitch（GPS故障） / Need 3D Fix (需要3D定位) 如果GPS未定位成功或者没有GPS.而且使用了需要GPS的飞行模式(Loiter Poshold)或者电子围栏被启动，就会提示这2个错误信息 解决方案： 如果没有安装GPS或者在室内飞行，请切换到不需要GPS的相关 等待GPS被3D FIX定位 NO GPS 没有检查到GPS硬件：检查连接线 NO FIX没有3D锁定，请把飞行器和GPS放在室外无遮挡的地方 Bad Velocity：（坏的速度） 一般是GPS飘逸速度过快，高于50CM/S 这个问题可能是移动速度过快，或者加速计没有正确校准，或者GPS刷新率低于5HZ。 解决方案： 等待GPS卫星锁定更多数量。HDOP小于1.5 High GPS HDOP：（HDOP不达标，不够小；数字越小达标精度越高） 卫星定位精度HDOP过高，一般是卫星数量不够导致 解决方案： 放在室外无遮挡环境。等待几分钟，卫星锁定更多后 HDOP在地面站这个位置可以看见 INS检查（例如加速计和陀螺仪检查） INS not calibrated：（INS加速计没有校准） 加速计没有校准，或者校准不正确 解决方案： 重新校准加速计。查看校准加速计章节 Accels not healthy（加速计不健康） 这可能是一个硬件问题，也有可能是刷了固件之后，马上启动飞控，也会提示这个错误 解决方案： 重新上电飞控板，并重新连接 联系CUAV技术支持部门解决 Gyros not healthy（陀螺仪不健康） 陀螺仪数据跳动比较厉害，数值不在范围、没有数据，这也可能是一个硬件问题，或者上电时没有静止，导致的报错 解决方案： 放平不动，重新上电 如果尝试重新上电几次还是有问题，请联系CUAV技术部门进行排除 Gyro cal failed （陀螺仪校准失败） 一般是上电时（在红蓝灯闪烁时，被断了电源。或者数值超过峰值也会导致这个错误信息） 解决方案： 重新放平上电 Gyros inconsistent：（陀螺仪不一致） 2个陀螺仪的旋转利率相差20度/秒以上，这有可能是一个硬件故障，或者是陀螺仪标定不正确 解决方案: 重新上电 联系CUAV技术部门 Check Board Voltage：（检查主板电压） 当主板电压低于4.3 高于5.8V时，就会出发Check Board Voltag 使用过低的USB电压供电也会触发。 如果这是从一个电源模块供电，都会提示检查主板电压，这可能是一个严重的问题 解决方案： 检查供电电压是否在5V左右 使用CUAV IV 模块供电或者标准的5V电压模块 Check FS_THR_VALUE ：（检查失控油门值） 当前油门值过低，已经触发了失控保护 解决方案： 检查遥控器油门通道设置，正常值不要低于1000，最合适的值在1100左右 检查地面站-失控保护设置-油门值是否设置的过高 bad loging（储存日志失败） 未识别到sd卡，请检查sd卡是否插好或者拔插一下sd卡。 ACRO_BAL_ROLL/PITCH: ACRO_BAL_ROLL参数高于自稳 roll的P值和/或ACRO_BAL_PITCH参数高于稳定pitch的P值。 这可能导致飞行员无法控制ACRO模式的倾斜角度，因为Acro Trainer的稳定将会超过飞行员的输入。 关闭安全解锁检查： 如果你觉得报错是无意义的，而且又影响你的解锁飞行，你可以通过地面站去关闭他。 飞控连接到地面站（使用usb或者数传） 配置/调试 选项>标准参数 ARMING_CHECK选择disable > 写入参数 No IO Thread Heartbeat ()（没有io心跳包） 检查SD卡是否插好 拔插一下SD卡 RC* minimum is greater than trim(遥控信号输入通道*最小值大于trim值） 该检测为AC3.6以上固件新添加的检测，是为了更多用户了解到rc10~rc16通道是可用的。如果在遥控器校准界面没有校准这些通道就会报错，如果您的遥控器接收机不支持那么多通道，请在全部参数表找到rc_trim参数（为通道号），并把它设置成rc_max与rc_min之间的任意值。 Hardware safety switch(没有安全开关硬件） 该错误提示实际并非字面意思，这可能是您已经连接了安全开关但没解锁安全开关或者您没有安装安全开关且没有禁用安全开关。解决办法：长按安全开关至指示灯常亮。或者禁用安全开关 "}}